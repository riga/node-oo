/*!
 * node-oo module v0.0.5
 * https://github.com/riga/node-oo
 *
 * Marcel Rieger, 2014
 * Dual licensed under the MIT or GPL Version 3 licenses.
 * http://www.opensource.org/licenses/mit-license
 * http://www.opensource.org/licenses/GPL-3.0
 *
 * Port of John Resig's lightweight OO model to Nodejs
 * extended by common OO features.
 */
var extend=require("node.extend");
var classInitializing=false;var isFn=function(a){return a instanceof Function;};var Class=function(){};var defaultOpts={exposeClassMembers:false};Class._extend=function(h,a,b){h=h||{};
a=a||{};b=extend({},defaultOpts,b);var g=function(){this._class=g;if(!classInitializing&&this.init){this.init.apply(this,arguments);}};var i=this.prototype;
g._superClass=this;this._subClasses=this._subClasses||[];this._subClasses.push(g);classInitializing=true;var f=new this();classInitializing=false;g._extends=function(j){if(j==this._superClass){return true;
}else{if(this._superClass==Class){return false;}else{return this._superClass._extends(j);}}};g._classMembers={};var e=function(j,k){g[j]=!isFn(k)?k:(function(l){return function(){var m=this instanceof Class?g:this;
return l.apply(m,arguments);};})(k);g._classMembers[j]=g[j];};if(this._classMembers){for(var c in this._classMembers){e(c,this._classMembers[c]);}}for(var c in a){e(c,a[c]);
}for(var c in h){var d=isFn(h[c]);f[c]=!d?h[c]:(function(j,k){return function(){var n=this._super;this._super=i[j];var p=[];if(b.exposeClassMembers&&this._class._classMembers){for(var l in this._class._classMembers){if(this[l]!==undefined){continue;
}p.push(l);var o=this._class._classMembers[l];this[l]=!isFn(o)?o:function(){return o.apply(this._class,arguments);}.bind(this);}}var m=k.apply(this,arguments);
p.forEach(function(q){delete this[q];}.bind(this));this._super=n;return m;};})(c,h[c]);}g.prototype=f;g.prototype.constructor=g;g._extend=arguments.callee;
return g;};Class._construct=function(a,c){var b=function(){return a.apply(this,c||[]);};b.prototype=a.prototype;return new b();};Class._convert=function(a,b,d){var c={init:function(){var e=Array.prototype.slice.call(arguments);
this[b]=Class._construct(a,e);}};Object.keys(a.prototype).forEach(function(e){if(b=="init"){return;}c[e]=function(){return this[b][e].apply(this[b],arguments);
};});return Class._extend(c,{},d);};module.exports=Class;