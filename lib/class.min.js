/*!
 * node-oo module v0.0.3
 * https://github.com/riga/node-oo
 *
 * Marcel Rieger, 2014
 * Dual licensed under the MIT or GPL Version 3 licenses.
 * http://www.opensource.org/licenses/mit-license
 * http://www.opensource.org/licenses/GPL-3.0
 *
 * Port of John Resig's lightweight OO model to Nodejs
 * extended by common OO features.
 */
var extend=require("node.extend");
var classInitializing=false;var Class=function(){};var defaultOpts={exposeClassMembers:false};Class._extend=function(h,a,b){h=h||{};a=a||{};b=extend({},defaultOpts,b);
var g=function(){this._class=g;if(!classInitializing&&this.init){this.init.apply(this,arguments);}};var i=this.prototype;g._superClass=this;this._subClasses=this._subClasses||[];
this._subClasses.push(g);classInitializing=true;var e=new this();classInitializing=false;g._extends=function(j){if(j==this._superClass){return true;}else{if(this._superClass==Class){return false;
}else{return this._superClass._extends(j);}}};g._classMembers={};var d=function(k,l){var j=typeof(l)=="function";g[k]=!j?l:(function(m){return function(){var n=this instanceof Class?g:this;
return m.apply(n,arguments);};})(l);g._classMembers[k]=g[k];};if(this._classMembers){for(var c in this._classMembers){d(c,this._classMembers[c]);}}for(var c in a){d(c,a[c]);
}for(var c in h){var f=typeof(h[c])=="function";e[c]=!f?h[c]:(function(j,k){return function(){var o=this._super;this._super=i[j];var q=[];if(b.exposeClassMembers&&this._class._classMembers){for(var l in this._class._classMembers){if(this[l]!==undefined){continue;
}q.push(l);var p=this._class._classMembers[l];var m=typeof(p)=="function";this[l]=!m?p:function(){return p.apply(this._class,arguments);}.bind(this);}}var n=k.apply(this,arguments);
q.forEach(function(r){delete this[r];}.bind(this));this._super=o;return n;};})(c,h[c]);}g.prototype=e;g.prototype.constructor=g;g._extend=arguments.callee;
return g;};module.exports=Class;