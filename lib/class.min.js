/*!
 * node-oo module v0.1.1
 * https://github.com/riga/node-oo
 *
 * Marcel Rieger, 2014
 * Dual licensed under the MIT or GPL Version 3 licenses.
 * http://www.opensource.org/licenses/mit-license
 * http://www.opensource.org/licenses/GPL-3.0
 *
 * Port of John Resig's lightweight OO model to Nodejs
 * extended by common OO features.
 */
var isFn=function(a){return a instanceof Function;
};var classInitializing=false;var Class=function(){};var defaultOpts={exposeClassMembers:false};Class._extend=function(i,a,b){i=i||{};a=a||{};var f={};
Object.keys(defaultOpts).forEach(function(k){if(b instanceof Object&&b[k]!==undefined){f[k]=b[k];}else{f[k]=defaultOpts[k];}});b=f;var h=function(){this._class=h;
if(!classInitializing&&this.init){this.init.apply(this,arguments);}};var j=this.prototype;h._superClass=this;this._subClasses=this._subClasses||[];this._subClasses.push(h);
classInitializing=true;var g=new this();classInitializing=false;h._extends=function(k){if(k==this._superClass){return true;}else{if(this._superClass==Class){return false;
}else{return this._superClass._extends(k);}}};h._classMembers={};var e=function(k,l){h[k]=!isFn(l)?l:(function(m){return function(){var n=this instanceof Class?h:this;
return m.apply(n,arguments);};})(l);h._classMembers[k]=h[k];};if(this._classMembers){for(var c in this._classMembers){e(c,this._classMembers[c]);}}for(var c in a){e(c,a[c]);
}for(var c in i){var d=isFn(i[c]);g[c]=!d?i[c]:(function(k,l){return function(){var o=this._super;this._super=j[k];var q=[];if(b.exposeClassMembers&&this._class._classMembers){for(var m in this._class._classMembers){if(this[m]!==undefined){continue;
}q.push(m);var p=this._class._classMembers[m];this[m]=!isFn(p)?p:function(){return p.apply(this._class,arguments);}.bind(this);}}var n=l.apply(this,arguments);
q.forEach(function(r){delete this[r];}.bind(this));this._super=o;return n;};})(c,i[c]);}h.prototype=g;h.prototype.constructor=h;h._extend=arguments.callee;
return h;};Class._construct=function(a,c){var b=function(){return a.apply(this,c||[]);};b.prototype=a.prototype;return new b();};Class._convert=function(a,b,d){var c={init:function(){var e=Array.prototype.slice.call(arguments);
this[b]=Class._construct(a,e);}};Object.keys(a.prototype).forEach(function(e){if(e=="init"){return;}c[e]=function(){return this[b][e].apply(this[b],arguments);
};});return Class._extend(c,{},d);};module.exports=Class;